<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weebo - Your Web-Based AI Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --weebo-blue: #00c3ff;
            --weebo-pink: #ff00cc;
            --dark-bg: #0a0e17;
            --card-bg: rgba(16, 21, 34, 0.8);
            --hologram-glow: rgba(0, 195, 255, 0.2);
            --text-light: #e0f7ff;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: var(--dark-bg);
            color: var(--text-light);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(0, 195, 255, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 80% 70%, rgba(255, 0, 204, 0.05) 0%, transparent 20%);
        }
        
        /* Floating Particles Background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--weebo-blue);
            border-radius: 50%;
            opacity: 0.5;
        }
        
        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        
        /* Header */
        header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 1px solid var(--hologram-glow);
            margin-bottom: 40px;
            position: relative;
        }
        
        .logo {
            font-size: 3rem;
            margin-bottom: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }
        
        .logo-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--weebo-blue), var(--weebo-pink));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: float 3s ease-in-out infinite;
            box-shadow: 0 0 30px var(--weebo-blue);
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        .logo-icon i {
            font-size: 2.5rem;
            color: white;
        }
        
        .tagline {
            font-size: 1.2rem;
            color: var(--weebo-blue);
            margin-top: 10px;
        }
        
        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 50px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        /* Weebo Interface Panel */
        .weebo-panel {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--hologram-glow);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .weebo-panel::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(
                transparent,
                var(--weebo-blue),
                transparent 30%
            );
            animation: rotate 10s linear infinite;
            z-index: -1;
        }
        
        @keyframes rotate {
            100% { transform: rotate(360deg); }
        }
        
        .panel-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .status-indicator {
            width: 12px;
            height: 12px;
            background: #00ff00;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        /* Chat Interface */
        .chat-container {
            height: 400px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 195, 255, 0.1);
        }
        
        .message {
            margin-bottom: 15px;
            padding: 12px 18px;
            border-radius: 18px;
            max-width: 80%;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .weebo-message {
            background: linear-gradient(135deg, rgba(0, 195, 255, 0.2), rgba(255, 0, 204, 0.1));
            border: 1px solid var(--hologram-glow);
            margin-right: auto;
        }
        
        .user-message {
            background: rgba(255, 255, 255, 0.1);
            margin-left: auto;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .message-time {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 5px;
        }
        
        .chat-input-container {
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            padding: 15px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--hologram-glow);
            border-radius: 10px;
            color: white;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--weebo-blue);
            box-shadow: 0 0 10px var(--hologram-glow);
        }
        
        .send-btn {
            padding: 15px 25px;
            background: linear-gradient(135deg, var(--weebo-blue), var(--weebo-pink));
            border: none;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }
        
        .send-btn:hover {
            transform: scale(1.05);
        }
        
        /* Features Panel */
        .features-panel {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid var(--hologram-glow);
            backdrop-filter: blur(10px);
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(0, 195, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: var(--weebo-blue);
            box-shadow: 0 10px 20px rgba(0, 195, 255, 0.2);
        }
        
        .feature-icon {
            font-size: 2rem;
            margin-bottom: 15px;
            color: var(--weebo-blue);
        }
        
        .feature-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin-top: 15px;
            background: transparent;
            border: 1px solid var(--weebo-blue);
            color: var(--weebo-blue);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Courier New', monospace;
        }
        
        .feature-btn:hover {
            background: var(--weebo-blue);
            color: white;
        }
        
        /* Controls */
        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .control-btn {
            padding: 10px 20px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--hologram-glow);
            border-radius: 8px;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .control-btn:hover {
            background: var(--hologram-glow);
        }
        
        /* Hologram Display */
        .hologram-display {
            height: 200px;
            margin: 30px 0;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .hologram {
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, rgba(0, 195, 255, 0.3), rgba(255, 0, 204, 0.3));
            border-radius: 50%;
            position: relative;
            animation: hologramFloat 4s ease-in-out infinite;
        }
        
        @keyframes hologramFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        .hologram::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(135deg, var(--weebo-blue), var(--weebo-pink));
            border-radius: 50%;
            z-index: -1;
            opacity: 0.5;
            filter: blur(20px);
        }
        
        .hologram-face {
            font-size: 3rem;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 40px 0;
            border-top: 1px solid var(--hologram-glow);
            margin-top: 50px;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }
        
        .footer-links a {
            color: var(--weebo-blue);
            text-decoration: none;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--weebo-blue);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--weebo-pink);
        }
    </style>
</head>
<body>
    <!-- Floating Particles -->
    <div class="particles" id="particles"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-robot"></i>
                </div>
                <h1>WEEBO</h1>
            </div>
            <p class="tagline">Your Web-Based AI Assistant â€¢ Inspired by Flubber (1997)</p>
            <p>No robotics required - Just pure web technology!</p>
        </header>
        
        <div class="main-content">
            <!-- Left Panel: Weebo Interface -->
            <div class="weebo-panel">
                <div class="panel-header">
                    <div class="status-indicator"></div>
                    <h2><i class="fas fa-comment-alt"></i> Weebo Chat Interface</h2>
                </div>
                
                <!-- Hologram Display -->
                <div class="hologram-display">
                    <div class="hologram">
                        <div class="hologram-face" id="hologramFace">ðŸ˜Š</div>
                    </div>
                </div>
                
                <!-- Chat Messages -->
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message weebo-message">
                            Hello! I'm Weebo, your web-based AI assistant! 
                            <div class="message-time">Just now</div>
                        </div>
                        <div class="message weebo-message">
                            I may not have anti-gravity hover, but I'm here in your browser ready to help!
                            <div class="message-time">Just now</div>
                        </div>
                    </div>
                    
                    <!-- Chat Input -->
                    <div class="chat-input-container">
                        <input type="text" class="chat-input" id="chatInput" 
                               placeholder="Type your message to Weebo... (Try: 'help', 'joke', 'time', 'weather')" 
                               autocomplete="off">
                        <button class="send-btn" id="sendBtn">
                            <i class="fas fa-paper-plane"></i> Send
                        </button>
                    </div>
                    
                    <!-- Quick Controls -->
                    <div class="controls">
                        <button class="control-btn" id="clearChat">
                            <i class="fas fa-broom"></i> Clear Chat
                        </button>
                        <button class="control-btn" id="changePersonality">
                            <i class="fas fa-smile"></i> Change Personality
                        </button>
                        <button class="control-btn" id="toggleHologram">
                            <i class="fas fa-eye"></i> Toggle Hologram
                        </button>
                        <button class="control-btn" id="helpBtn">
                            <i class="fas fa-question-circle"></i> Help
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Right Panel: Features & Tools -->
            <div class="features-panel">
                <h2><i class="fas fa-tools"></i> Weebo Features & Tools</h2>
                <p style="margin-top: 10px; opacity: 0.8;">Click any feature to activate it</p>
                
                <div class="features-grid">
                    <!-- Feature Cards -->
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h3>Time & Date</h3>
                        <p>Get current time, date, and timezone information</p>
                        <button class="feature-btn" data-action="time">
                            <i class="fas fa-play"></i> Ask Time
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-cloud-sun"></i>
                        </div>
                        <h3>Weather</h3>
                        <p>Get weather information for any city</p>
                        <button class="feature-btn" data-action="weather">
                            <i class="fas fa-play"></i> Check Weather
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h3>Calculator</h3>
                        <p>Perform calculations and math operations</p>
                        <button class="feature-btn" data-action="calc">
                            <i class="fas fa-play"></i> Open Calculator
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-joke"></i>
                        </div>
                        <h3>Jokes & Fun</h3>
                        <p>Hear jokes, riddles, and fun facts</p>
                        <button class="feature-btn" data-action="joke">
                            <i class="fas fa-play"></i> Tell a Joke
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <h3>To-Do List</h3>
                        <p>Manage your tasks and reminders</p>
                        <button class="feature-btn" data-action="todo">
                            <i class="fas fa-play"></i> Open To-Do
                        </button>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-music"></i>
                        </div>
                        <h3>Soundboard</h3>
                        <p>Play sounds and effects</p>
                        <button class="feature-btn" data-action="sound">
                            <i class="fas fa-play"></i> Play Sound
                        </button>
                    </div>
                </div>
                
                <!-- Extra Tools -->
                <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--hologram-glow);">
                    <h3><i class="fas fa-magic"></i> Quick Actions</h3>
                    <div class="controls" style="margin-top: 15px;">
                        <button class="control-btn" id="changeTheme">
                            <i class="fas fa-palette"></i> Change Theme
                        </button>
                        <button class="control-btn" id="exportChat">
                            <i class="fas fa-download"></i> Export Chat
                        </button>
                        <button class="control-btn" id="speakBtn">
                            <i class="fas fa-volume-up"></i> Text-to-Speech
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Web-Based Weebo Assistant â€¢ Created with HTML, CSS & JavaScript</p>
            <p>This is a fan-made, non-commercial project inspired by Disney's Flubber (1997)</p>
            
            <div class="footer-links">
                <a href="#" id="viewSource">View Source Code</a>
                <a href="#" id="reportBug">Report Bug</a>
                <a href="#" id="suggestFeature">Suggest Feature</a>
            </div>
            
            <p style="margin-top: 20px; font-size: 0.8rem;">
                <i class="fas fa-code"></i> No backend required â€¢ Runs entirely in your browser
            </p>
        </footer>
    </div>

    <script>
        // Initialize particles background
        function initParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 100;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random position
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                
                // Random size and opacity
                const size = Math.random() * 4 + 2;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.opacity = Math.random() * 0.5 + 0.2;
                
                // Random color (blue or pink)
                particle.style.background = Math.random() > 0.5 ? 
                    'var(--weebo-blue)' : 'var(--weebo-pink)';
                
                // Random animation
                const duration = Math.random() * 20 + 10;
                particle.style.animation = `float ${duration}s ease-in-out infinite`;
                
                particlesContainer.appendChild(particle);
            }
        }
        
        // Weebo AI Responses
        const weeboPersonalities = {
            helpful: {
                name: "Helpful Assistant",
                greetings: [
                    "Hello! I'm Weebo, ready to assist you!",
                    "Hi there! How can I help you today?",
                    "Greetings! I'm your web-based Weebo assistant.",
                    "Hello! I may be virtual, but I'm here to help!"
                ],
                responses: {
                    time: () => {
                        const now = new Date();
                        return `The current time is ${now.toLocaleTimeString()}, and the date is ${now.toLocaleDateString()}.`;
                    },
                    weather: () => {
                        const conditions = ["sunny", "cloudy", "rainy", "clear", "partly cloudy"];
                        const randomCondition = conditions[Math.floor(Math.random() * conditions.length)];
                        const temp = Math.floor(Math.random() * 30) + 10;
                        return `I'm simulating weather for your location: It's ${temp}Â°C and ${randomCondition} right now.`;
                    },
                    joke: () => {
                        const jokes = [
                            "Why don't scientists trust atoms? Because they make up everything!",
                            "Why did the web developer go broke? Because he used up all his cache!",
                            "What do you call a fake noodle? An impasta!",
                            "Why did the robot go on a diet? It had too many mega-bytes!",
                            "How do you organize a space party? You planet!"
                        ];
                        return jokes[Math.floor(Math.random() * jokes.length)];
                    },
                    default: (input) => {
                        return `I'm not sure how to respond to "${input}". Try asking about time, weather, or tell me to tell a joke!`;
                    }
                }
            },
            sassy: {
                name: "Sassy Weebo",
                greetings: [
                    "Oh, you finally figured out how to turn me on. How... impressive.",
                    "Look who decided to show up. What do you want?",
                    "Ugh, another human. What is it this time?",
                    "I'm here, but I'm not happy about it."
                ],
                responses: {
                    time: () => {
                        return `It's time you got a watch. But since you asked: ${new Date().toLocaleTimeString()}`;
                    },
                    weather: () => {
                        return "Do I look like a weather satellite? Fine. It's probably raining somewhere.";
                    },
                    joke: () => {
                        return "Your face. That's the joke.";
                    },
                    default: (input) => {
                        return `Seriously? "${input}"? That's what you're going with?`;
                    }
                }
            },
            scientific: {
                name: "Scientific Weebo",
                greetings: [
                    "Greetings. I am operating at optimal efficiency.",
                    "Weebo ready for scientific analysis and assistance.",
                    "All systems nominal. How may I assist with your inquiries?",
                    "Online and ready for computational tasks."
                ],
                responses: {
                    time: () => {
                        const now = new Date();
                        const unix = Math.floor(now.getTime() / 1000);
                        return `Current time: ${now.toISOString()} | Unix timestamp: ${unix} | UTC offset: ${now.getTimezoneOffset()} minutes`;
                    },
                    weather: () => {
                        return "Weather simulation initialized. Based on atmospheric data patterns, there is a 67.3% probability of precipitation within 24 hours.";
                    },
                    joke: () => {
                        return "Why was the math book sad? It had too many problems. Note: This is a demonstration of humor algorithms.";
                    },
                    default: (input) => {
                        return `Input "${input}" does not match known command patterns. Please use structured queries for optimal results.`;
                    }
                }
            }
        };
        
        let currentPersonality = 'helpful';
        let chatHistory = [];
        let hologramVisible = true;
        
        // DOM Elements
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendBtn = document.getElementById('sendBtn');
        const hologramFace = document.getElementById('hologramFace');
        
        // Initialize
        function initWeebo() {
            initParticles();
            addMessage(getRandomGreeting(), 'weebo');
            
            // Set up event listeners
            sendBtn.addEventListener('click', handleSendMessage);
            chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleSendMessage();
            });
            
            // Feature buttons
            document.querySelectorAll('.feature-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const action = this.getAttribute('data-action');
                    handleFeatureAction(action);
                });
            });
            
            // Control buttons
            document.getElementById('clearChat').addEventListener('click', clearChat);
            document.getElementById('changePersonality').addEventListener('click', changePersonality);
            document.getElementById('toggleHologram').addEventListener('click', toggleHologram);
            document.getElementById('helpBtn').addEventListener('click', showHelp);
            document.getElementById('changeTheme').addEventListener('click', changeTheme);
            document.getElementById('exportChat').addEventListener('click', exportChat);
            document.getElementById('speakBtn').addEventListener('click', toggleSpeech);
            
            // Footer links
            document.getElementById('viewSource').addEventListener('click', function(e) {
                e.preventDefault();
                addMessage("You can view the source code by right-clicking and selecting 'View Page Source' or pressing Ctrl+U!", 'weebo');
            });
            
            document.getElementById('reportBug').addEventListener('click', function(e) {
                e.preventDefault();
                addMessage("Bug reporting: This is a demo project! In a real app, this would open a bug report form.", 'weebo');
            });
            
            document.getElementById('suggestFeature').addEventListener('click', function(e) {
                e.preventDefault();
                addMessage("Feature suggestions: Try saying 'I wish Weebo could...' and I'll pretend to note it down!", 'weebo');
            });
        }
        
        // Message handling
        function addMessage(text, sender = 'weebo') {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            const time = new Date();
            const timeString = time.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.innerHTML = `
                ${text}
                <div class="message-time">${timeString}</div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Add to history
            chatHistory.push({ text, sender, time: timeString });
            
            // Update hologram face based on message
            updateHologramFace(text, sender);
        }
        
        function handleSendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            
            // Add user message
            addMessage(message, 'user');
            chatInput.value = '';
            
            // Process and respond
            setTimeout(() => {
                const response = processMessage(message);
                addMessage(response, 'weebo');
            }, 500);
        }
        
        function processMessage(input) {
            const inputLower = input.toLowerCase();
            const personality = weeboPersonalities[currentPersonality];
            
            // Check for keywords
            if (inputLower.includes('time') || inputLower.includes('clock')) {
                return personality.responses.time();
            }
            else if (inputLower.includes('weather') || inputLower.includes('temperature')) {
                return personality.responses.weather();
            }
            else if (inputLower.includes('joke') || inputLower.includes('funny')) {
                return personality.responses.joke();
            }
            else if (inputLower.includes('help')) {
                return "I can help with: time, weather, jokes, calculations, and more! Click the feature buttons or type what you need.";
            }
            else if (inputLower.includes('hello') || inputLower.includes('hi')) {
                return getRandomGreeting();
            }
            else if (inputLower.includes('calculator') || inputLower.includes('calculate')) {
                try {
                    // Simple calculation parsing
                    const calcMatch = input.match(/(\d+)\s*([\+\-\*\/])\s*(\d+)/);
                    if (calcMatch) {
                        const num1 = parseInt(calcMatch[1]);
                        const operator = calcMatch[2];
                        const num2 = parseInt(calcMatch[3]);
                        let result;
                        
                        switch(operator) {
                            case '+': result = num1 + num2; break;
                            case '-': result = num1 - num2; break;
                            case '*': result = num1 * num2; break;
                            case '/': result = num2 !== 0 ? num1 / num2 : 'Error: Division by zero'; break;
                            default: result = 'Unknown operator';
                        }
                        
                        return `Calculation: ${num1} ${operator} ${num2} = ${result}`;
                    }
                } catch(e) {
                    // Ignore errors
                }
            }
            
            // Default response
            return personality.responses.default(input);
        }
        
        function handleFeatureAction(action) {
            const personality = weeboPersonalities[currentPersonality];
            
            switch(action) {
                case 'time':
                    addMessage(personality.responses.time(), 'weebo');
                    break;
                case 'weather':
                    addMessage(personality.responses.weather(), 'weebo');
                    break;
                case 'joke':
                    addMessage(personality.responses.joke(), 'weebo');
                    break;
                case 'calc':
                    addMessage("Calculator: Try typing something like '5 + 3' or '10 * 2' and I'll calculate it!", 'weebo');
                    break;
                case 'todo':
                    addMessage("To-Do List: In a full version, this would open a task manager. For now, try saying 'remind me to...'", 'weebo');
                    break;
                case 'sound':
                    // Play a sound
                    try {
                        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        const oscillator = audioContext.createOscillator();
                        oscillator.connect(audioContext.destination);
                        oscillator.frequency.value = 523.25; // C5
                        oscillator.start();
                        setTimeout(() => oscillator.stop(), 200);
                        addMessage("Played a sound effect! ðŸ”Š", 'weebo');
                    } catch(e) {
                        addMessage("Sound played in my digital mind! ðŸ”Š", 'weebo');
                    }
                    break;
            }
        }
        
        // Helper functions
        function getRandomGreeting() {
            const greetings = weeboPersonalities[currentPersonality].greetings;
            return greetings[Math.floor(Math.random() * greetings.length)];
        }
        
        function clearChat() {
            chatMessages.innerHTML = '';
            chatHistory = [];
            addMessage("Chat cleared! How can I assist you now?", 'weebo');
        }
        
        function changePersonality() {
            const personalities = Object.keys(weeboPersonalities);
            let currentIndex = personalities.indexOf(currentPersonality);
            currentPersonality = personalities[(currentIndex + 1) % personalities.length];
            
            const personalityName = weeboPersonalities[currentPersonality].name;
            addMessage(`Personality changed to: ${personalityName}`, 'weebo');
            updateHologramFace(`Personality: ${personalityName}`, 'weebo');
        }
        
        function toggleHologram() {
            hologramVisible = !hologramVisible;
            const hologram = document.querySelector('.hologram');
            
            if (hologramVisible) {
                hologram.style.opacity = '1';
                addMessage("Hologram display activated!", 'weebo');
            } else {
                hologram.style.opacity = '0.3';
                addMessage("Hologram display dimmed.", 'weebo');
            }
        }
        
        function updateHologramFace(text, sender) {
            if (sender === 'weebo') {
                const faces = ['ðŸ˜Š', 'ðŸ¤–', 'ðŸ˜Ž', 'ðŸ§ ', 'ðŸ’¡', 'âœ¨', 'ðŸŒŸ', 'âš¡'];
                const randomFace = faces[Math.floor(Math.random() * faces.length)];
                hologramFace.textContent = randomFace;
                
                // Animate
                hologramFace.style.transform = 'translate(-50%, -50%) scale(1.2)';
                setTimeout(() => {
                    hologramFace.style.transform = 'translate(-50%, -50%) scale(1)';
                }, 200);
            } else {
                hologramFace.textContent = 'ðŸ‘‚';
                setTimeout(() => {
                    hologramFace.textContent = 'ðŸ¤”';
                }, 500);
            }
        }
        
        function showHelp() {
            const helpText = `
                <strong>Weebo Web Assistant Help:</strong><br><br>
                <strong>Chat:</strong> Type anything and I'll respond!<br>
                <strong>Features:</strong> Click the buttons for quick actions<br>
                <strong>Commands to try:</strong><br>
                - "What time is it?"<br>
                - "Tell me a joke"<br>
                - "What's the weather?"<br>
                - "5 + 3" (calculations)<br>
                <br>
                <strong>Controls:</strong><br>
                - Change Personality: Switches my mood<br>
                - Toggle Hologram: Shows/hides my hologram<br>
                - Clear Chat: Starts fresh<br>
                <br>
                I'm a pure web-based AI - no backend needed!
            `;
            addMessage(helpText, 'weebo');
        }
        
        function changeTheme() {
            const themes = ['default', 'dark', 'matrix', 'pastel'];
            const randomTheme = themes[Math.floor(Math.random() * themes.length)];
            addMessage(`Theme changed to: ${randomTheme} (simulated - would change colors in full version)`, 'weebo');
        }
        
        function exportChat() {
            const chatText = chatHistory.map(msg => 
                `[${msg.time}] ${msg.sender.toUpperCase()}: ${msg.text}`
            ).join('\n');
            
            // Create download
            const blob = new Blob([chatText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'weebo-chat-export.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            addMessage("Chat exported as text file!", 'weebo');
        }
        
        function toggleSpeech() {
            if ('speechSynthesis' in window) {
                const lastMessage = chatHistory.filter(msg => msg.sender === 'weebo').pop();
                if (lastMessage) {
                    const utterance = new SpeechSynthesisUtterance(lastMessage.text);
                    utterance.rate = 1.0;
                    utterance.pitch = 1.0;
                    speechSynthesis.speak(utterance);
                    addMessage("Speaking my last message!", 'weebo');
                } else {
                    addMessage("Nothing to speak yet! Send me a message first.", 'weebo');
                }
            } else {
                addMessage("Text-to-speech not supported in this browser.", 'weebo');
            }
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initWeebo);
    </script>
</body>
</html>
