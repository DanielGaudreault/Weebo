<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weebo ¬∑ Your Holographic Web Pal</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --weebo-blue: #00c3ff;
            --weebo-pink: #ff00cc;
            --weebo-purple: #b300ff;
            --dark-bg: #0a0e1a;
            --card-bg: rgba(20, 30, 45, 0.7);
            --hologram-glow: rgba(0, 195, 255, 0.3);
            --text-light: #eef9ff;
        }

        body {
            font-family: 'Courier New', monospace;
            background: var(--dark-bg);
            color: var(--text-light);
            min-height: 100vh;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(0, 195, 255, 0.08) 0%, transparent 25%),
                radial-gradient(circle at 90% 70%, rgba(255, 0, 204, 0.08) 0%, transparent 25%);
        }

        /* floating particles (like Weebo's energy specs) */
        .particles {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--weebo-blue);
            border-radius: 50%;
            opacity: 0.4;
            box-shadow: 0 0 8px var(--weebo-pink);
        }

        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 5;
        }

        /* header */
        header {
            text-align: center;
            padding: 30px 0 20px;
            border-bottom: 1px dashed var(--hologram-glow);
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 25px;
            margin-bottom: 15px;
        }

        .floating-eye {
            width: 80px;
            height: 80px;
            background: linear-gradient(145deg, var(--weebo-blue), var(--weebo-pink));
            border-radius: 40% 60% 40% 60% / 50% 40% 60% 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: hoverGlide 4s ease-in-out infinite;
            box-shadow: 0 0 35px var(--weebo-blue);
        }

        @keyframes hoverGlide {
            0% { border-radius: 40% 60% 40% 60% / 50% 40% 60% 50%; transform: translateY(0) rotate(0deg); }
            50% { border-radius: 60% 40% 60% 40% / 40% 60% 40% 60%; transform: translateY(-12px) rotate(5deg); }
            100% { border-radius: 40% 60% 40% 60% / 50% 40% 60% 50%; transform: translateY(0) rotate(0deg); }
        }

        .floating-eye i {
            font-size: 2.8rem;
            color: white;
            filter: drop-shadow(0 0 5px black);
        }

        h1 {
            font-size: 4rem;
            font-weight: 700;
            letter-spacing: 6px;
            text-shadow: 0 0 15px var(--weebo-blue), 0 0 30px var(--weebo-pink);
        }

        .tagline {
            font-size: 1.3rem;
            background: linear-gradient(135deg, var(--weebo-blue), var(--weebo-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 600;
        }

        /* main split */
        .main-content {
            display: grid;
            grid-template-columns: 1.1fr 0.9fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 900px) {
            .main-content { grid-template-columns: 1fr; }
        }

        /* ---- left panel (hologram + chat) ---- */
        .weebo-panel {
            background: var(--card-bg);
            backdrop-filter: blur(16px);
            border: 1px solid var(--hologram-glow);
            border-radius: 40px 40px 30px 30px;
            padding: 30px 25px;
            box-shadow: 0 25px 50px -8px rgba(0,0,0,0.6), 0 0 0 1px rgba(0,195,255,0.2) inset;
            position: relative;
            overflow: hidden;
        }

        .weebo-panel::after {
            content: '';
            position: absolute;
            top: -30%;
            left: -20%;
            width: 150%;
            height: 150%;
            background: radial-gradient(circle, rgba(0,195,255,0.1) 0%, transparent 60%);
            animation: rotateSlow 18s linear infinite;
            z-index: -1;
        }

        @keyframes rotateSlow {
            100% { transform: rotate(360deg); }
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 15px;
        }

        .status-pulse {
            width: 14px;
            height: 14px;
            background: #0f0;
            border-radius: 50%;
            box-shadow: 0 0 15px #0f0;
            animation: pulseGlow 1.5s infinite;
        }

        @keyframes pulseGlow {
            0% { opacity: 1; box-shadow: 0 0 10px #0f0; }
            50% { opacity: 0.6; box-shadow: 0 0 25px #0f0; }
            100% { opacity: 1; box-shadow: 0 0 10px #0f0; }
        }

        /* hologram display */
        .hologram-stage {
            height: 200px;
            margin: 10px 0 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .hologram-sphere {
            width: 160px;
            height: 160px;
            background: conic-gradient(from 0deg, var(--weebo-blue), var(--weebo-pink), var(--weebo-purple), var(--weebo-blue));
            border-radius: 50%;
            position: relative;
            animation: spinHolo 8s linear infinite, levitate 3s ease-in-out infinite;
            box-shadow: 0 0 70px var(--weebo-blue), 0 0 120px var(--weebo-pink);
        }

        .hologram-sphere::before {
            content: '';
            position: absolute;
            inset: 5px;
            background: var(--dark-bg);
            border-radius: 50%;
            z-index: 1;
        }

        .hologram-face {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 4rem;
            z-index: 5;
            filter: drop-shadow(0 0 10px white);
            animation: faceWobble 2s infinite;
        }

        @keyframes spinHolo { 100% { transform: rotate(360deg); } }
        @keyframes levitate { 0%,100%{ transform: translateY(0); } 50%{ transform: translateY(-15px); } }
        @keyframes faceWobble { 0%,100%{ transform: translate(-50%,-50%) scale(1); } 50%{ transform: translate(-50%,-50%) scale(1.1); }}

        /* chat area */
        .chat-container {
            height: 380px;
            display: flex;
            flex-direction: column;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: rgba(0, 0, 0, 0.35);
            border-radius: 24px;
            border: 1px solid rgba(0,195,255,0.2);
            scroll-behavior: smooth;
        }

        .message {
            margin-bottom: 15px;
            padding: 12px 20px;
            border-radius: 30px;
            max-width: 80%;
            word-wrap: break-word;
            backdrop-filter: blur(5px);
            animation: popIn 0.2s ease;
        }

        @keyframes popIn { 0% { opacity:0; transform: scale(0.95); } 100% { opacity:1; transform: scale(1); }}

        .weebo-message {
            background: linear-gradient(145deg, rgba(0,195,255,0.25), rgba(255,0,204,0.15));
            border: 1px solid var(--weebo-blue);
            margin-right: auto;
            border-bottom-left-radius: 5px;
        }

        .user-message {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.25);
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }

        .message-time {
            font-size: 0.7rem;
            opacity: 0.6;
            margin-top: 5px;
            text-align: right;
        }

        .chat-input-area {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .chat-input {
            flex: 1;
            padding: 15px;
            background: rgba(0,0,0,0.5);
            border: 1px solid var(--hologram-glow);
            border-radius: 50px;
            color: white;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            transition: all 0.2s;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--weebo-pink);
            box-shadow: 0 0 20px var(--weebo-pink);
        }

        .send-btn {
            padding: 0 30px;
            background: linear-gradient(45deg, var(--weebo-blue), var(--weebo-pink));
            border: none;
            border-radius: 50px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.2s;
        }

        .send-btn:hover { transform: scale(1.02); box-shadow: 0 0 30px var(--weebo-blue); }

        .quick-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .ctrl-btn {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(0,195,255,0.3);
            border-radius: 40px;
            padding: 8px 16px;
            color: var(--text-light);
            cursor: pointer;
            font-size: 0.9rem;
            transition: 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .ctrl-btn:hover {
            background: var(--weebo-blue);
            color: black;
            border-color: white;
        }

        /* right panel features */
        .features-panel {
            background: var(--card-bg);
            backdrop-filter: blur(16px);
            border: 1px solid var(--hologram-glow);
            border-radius: 40px;
            padding: 30px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 18px;
            margin: 25px 0;
        }

        .feature-item {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 25px;
            padding: 22px 15px;
            text-align: center;
            border: 1px solid rgba(0,195,255,0.2);
            transition: all 0.3s;
        }

        .feature-item:hover {
            border-color: var(--weebo-pink);
            transform: translateY(-6px);
            box-shadow: 0 15px 25px -10px var(--weebo-blue);
        }

        .feature-icon {
            font-size: 2.4rem;
            margin-bottom: 12px;
            background: linear-gradient(45deg, var(--weebo-blue), var(--weebo-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .feature-btn {
            background: transparent;
            border: 1px solid var(--weebo-blue);
            color: var(--weebo-blue);
            border-radius: 40px;
            padding: 10px 20px;
            margin-top: 15px;
            cursor: pointer;
            transition: 0.2s;
            font-weight: 600;
        }

        .feature-btn:hover {
            background: var(--weebo-blue);
            color: #0a0e1a;
        }

        .footer {
            text-align: center;
            padding: 35px 0 10px;
            border-top: 1px dashed var(--hologram-glow);
            color: rgba(255,255,255,0.5);
            font-size: 0.95rem;
        }

        .footer a {
            color: var(--weebo-blue);
            text-decoration: none;
            margin: 0 15px;
        }

        .footer a:hover { text-decoration: underline; }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: rgba(0,0,0,0.3); border-radius: 10px; }
        ::-webkit-scrollbar-thumb { background: var(--weebo-blue); border-radius: 10px; }
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>
    <div class="container">
        <header>
            <div class="logo">
                <div class="floating-eye">
                    <i class="fas fa-robot"></i>
                </div>
                <h1>WEEBO</h1>
            </div>
            <p class="tagline">‚ú¶ real life holographic pal ¬∑ inspired by flubber ‚ú¶</p>
            <p style="margin-top: 8px;">no anti‚Äëgravity, but plenty of personality</p>
        </header>

        <div class="main-content">
            <!-- ========== LEFT: WEEBO CHAT & HOLO ========== -->
            <div class="weebo-panel">
                <div class="panel-header">
                    <div class="status-pulse"></div>
                    <h2 style="font-weight: 300;"><i class="fas fa-comment-dots" style="margin-right: 10px;"></i>neural link active</h2>
                </div>

                <!-- animated hologram face -->
                <div class="hologram-stage">
                    <div class="hologram-sphere"></div>
                    <div class="hologram-face" id="hologramFace">üòä</div>
                </div>

                <!-- chat messages -->
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message weebo-message">
                            Hey, I'm Weebo! Ask me anything, click a button, or just chat.<br>
                            <span class="message-time">online</span>
                        </div>
                    </div>
                    <div class="chat-input-area">
                        <input type="text" id="chatInput" class="chat-input" placeholder="Talk to Weebo ... (try: time, joke, 15*3, weather)" autocomplete="off">
                        <button class="send-btn" id="sendBtn"><i class="fas fa-paper-plane"></i></button>
                    </div>
                    <!-- quick command bar -->
                    <div class="quick-controls">
                        <button class="ctrl-btn" id="clearChatBtn"><i class="fas fa-broom"></i> clear</button>
                        <button class="ctrl-btn" id="personalityBtn"><i class="fas fa-rotate"></i> switch vibe</button>
                        <button class="ctrl-btn" id="hologramToggle"><i class="fas fa-eye"></i> hologram</button>
                        <button class="ctrl-btn" id="speakBtn"><i class="fas fa-volume-high"></i> speak</button>
                    </div>
                </div>
            </div>

            <!-- ========== RIGHT: FEATURE GRID ========== -->
            <div class="features-panel">
                <h2 style="font-weight: 300;"><i class="fas fa-cubes"></i> weebo toolbelt</h2>
                <p style="margin-bottom: 25px; opacity: 0.8;">click any to activate</p>
                <div class="features-grid" id="featureGrid">
                    <div class="feature-item">
                        <div class="feature-icon"><i class="far fa-clock"></i></div>
                        <h3>time & date</h3>
                        <button class="feature-btn" data-action="time">üìÖ now</button>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"><i class="fas fa-cloud"></i></div>
                        <h3>weather sim</h3>
                        <button class="feature-btn" data-action="weather">‚òÅÔ∏è forecast</button>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"><i class="fas fa-calculator"></i></div>
                        <h3>calculator</h3>
                        <button class="feature-btn" data-action="calc">üßÆ 2+2</button>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"><i class="fas fa-face-smile"></i></div>
                        <h3>joke</h3>
                        <button class="feature-btn" data-action="joke">üòÇ laugh</button>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"><i class="fas fa-list-check"></i></div>
                        <h3>to‚Äëdo (demo)</h3>
                        <button class="feature-btn" data-action="todo">üìã remind</button>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"><i class="fas fa-music"></i></div>
                        <h3>sound blip</h3>
                        <button class="feature-btn" data-action="sound">üîä beep</button>
                    </div>
                </div>
                <!-- extra mini actions -->
                <div style="margin-top: 30px;">
                    <h3 style="margin-bottom: 15px;"><i class="fas fa-sliders"></i> extras</h3>
                    <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                        <button class="ctrl-btn" id="themeToggle"><i class="fas fa-palette"></i> shimmer theme</button>
                        <button class="ctrl-btn" id="exportChat"><i class="fas fa-download"></i> export chat</button>
                        <button class="ctrl-btn" id="helpBtn"><i class="fas fa-question"></i> help</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- footer -->
        <div class="footer">
            <p>‚ö° web‚Äëbased weebo ¬∑ pure html/css/js ¬∑  flubber tribute ‚ö°</p>
            <p style="margin: 10px 0;">
                <a href="#" id="viewSourceLink">source</a> ¬∑ 
                <a href="#" id="reportLink">report bug</a> ¬∑ 
                <a href="#" id="suggestLink">suggest</a>
            </p>
            <p style="font-size: 0.8rem;"><i class="fas fa-code"></i> no backend ‚Äî all in your browser</p>
        </div>
    </div>

    <script>
        (function() {
            // ---- particle field ----
            function initParticles() {
                const container = document.getElementById('particles');
                for (let i=0; i<80; i++) {
                    let p = document.createElement('div');
                    p.className = 'particle';
                    p.style.left = Math.random() * 100 + '%';
                    p.style.top = Math.random() * 100 + '%';
                    p.style.animation = `float ${Math.random()*25+10}s linear infinite`;
                    p.style.background = Math.random()>0.5 ? 'var(--weebo-blue)' : 'var(--weebo-pink)';
                    p.style.width = p.style.height = (Math.random()*5+2) + 'px';
                    container.appendChild(p);
                }
            }

            // ---- personality bank ----
            const personalities = {
                helpful: {
                    name: 'helpful weebo',
                    greet: 'Hello! I‚Äôm your web assistant, ready to help!',
                    time: () => `‚è±Ô∏è ${new Date().toLocaleTimeString()} ‚Äî local date: ${new Date().toLocaleDateString()}`,
                    weather: () => `üå§Ô∏è Sim: 22¬∞C, partly cloudy with a chance of giggles.`,
                    joke: () => { 
                        let jokes = ["Why do robots like electric blankets? They want to stay current!", "What‚Äôs a computer‚Äôs favorite beat? An algorithm!", "I‚Äôd tell you a UDP joke, but you might not get it."];
                        return jokes[Math.floor(Math.random()*jokes.length)];
                    },
                    default: (input) => `You said: "${input}". Try a feature button or ask for time, joke, etc.`
                },
                sassy: {
                    name: 'sassy weebo',
                    greet: 'Oh, it‚Äôs you. Fine, I‚Äôm listening.',
                    time: () => `‚è∞ It's time you checked your own watch, but ok: ${new Date().toLocaleTimeString()}`,
                    weather: () => `üåßÔ∏è Does it look like I have windows? Probably cloudy.`,
                    joke: () => 'Why did the robot cross the road? Because it was programmed to. (hilarious, right?)',
                    default: (input) => `"${input}" ... that‚Äôs what you‚Äôre asking me? Ok.`
                },
                brainiac: {
                    name: 'professor weebo',
                    greet: 'Greetings. Analytical subroutines online.',
                    time: () => `üï∞Ô∏è Precisely ${new Date().toLocaleTimeString()} (UTC offset ${new Date().getTimezoneOffset()})`,
                    weather: () => `üå™Ô∏è Stochastic model: 75% chance of sunshine, 25% chance of nostalgia.`,
                    joke: () => 'A SQL query goes into a bar, walks up to two tables and asks: ‚ÄúCan I join you?‚Äù',
                    default: (input) => `Processing linguistic input: "${input}". Please use feature keywords.`
                }
            };
            let currentPersonality = 'helpful';
            let chatHistory = [];

            // DOM elements
            const chatMessages = document.getElementById('chatMessages');
            const chatInput = document.getElementById('chatInput');
            const sendBtn = document.getElementById('sendBtn');
            const hologramFace = document.getElementById('hologramFace');
            let hologramVisible = true;

            // helpers
            function addMessage(text, sender = 'weebo') {
                let msgDiv = document.createElement('div');
                msgDiv.className = `message ${sender}-message`;
                let time = new Date().toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
                msgDiv.innerHTML = `${text} <div class="message-time">${time}</div>`;
                chatMessages.appendChild(msgDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                chatHistory.push({text, sender, time});

                // face reaction
                if (sender === 'weebo') {
                    let faces = ['üòä','ü§ì','üòé','üí°','üåü','‚ö°','üß†'];
                    hologramFace.textContent = faces[Math.floor(Math.random()*faces.length)];
                } else {
                    hologramFace.textContent = 'üëÇ';
                    setTimeout(() => { if (hologramVisible) hologramFace.textContent = 'ü§î'; }, 600);
                }
            }

            function processUserInput(input) {
                if (!input.trim()) return;
                addMessage(input, 'user');
                chatInput.value = '';

                setTimeout(() => {
                    let lower = input.toLowerCase();
                    let pers = personalities[currentPersonality];

                    if (lower.includes('time') || lower.includes('clock')) {
                        addMessage(pers.time(), 'weebo');
                    } else if (lower.includes('weather') || lower.includes('forecast')) {
                        addMessage(pers.weather(), 'weebo');
                    } else if (lower.includes('joke') || lower.includes('laugh')) {
                        addMessage(pers.joke(), 'weebo');
                    } else if (lower.includes('calc') || lower.match(/[\d\+\-\*\/]/)) {
                        // simple calculation
                        try {
                            if (lower.includes('calc')) {
                                addMessage("type e.g. 5+3 or 10*2 and I'll compute", 'weebo');
                                return;
                            }
                            let sanitized = input.replace(/[^\d\+\-\*\/\(\)\.]/g, '');
                            if (sanitized) {
                                let result = eval(sanitized); // basic eval (safe here)
                                addMessage(`üßÆ ${input} = ${result}`, 'weebo');
                            } else addMessage("give me a simple sum", 'weebo');
                        } catch { addMessage("calculation error", 'weebo'); }
                    } else if (lower.includes('hello') || lower.includes('hi')) {
                        addMessage(pers.greet, 'weebo');
                    } else if (lower.includes('help')) {
                        addMessage("I know: time, weather, joke, calculate, or click any tool!", 'weebo');
                    } else {
                        addMessage(pers.default(input), 'weebo');
                    }
                }, 300);
            }

            function handleFeatureAction(action) {
                let pers = personalities[currentPersonality];
                switch (action) {
                    case 'time': addMessage(pers.time(), 'weebo'); break;
                    case 'weather': addMessage(pers.weather(), 'weebo'); break;
                    case 'joke': addMessage(pers.joke(), 'weebo'); break;
                    case 'calc': addMessage("Try typing '5*8' or '100/4' in chat.", 'weebo'); break;
                    case 'todo': addMessage("üìå To-Do (demo): buy flubber, fix hover, chat with weebo.", 'weebo'); break;
                    case 'sound': 
                        try {
                            let actx = new (window.AudioContext || window.webkitAudioContext)();
                            let osc = actx.createOscillator();
                            osc.connect(actx.destination);
                            osc.frequency.value = 660;
                            osc.start();
                            setTimeout(() => osc.stop(), 150);
                            addMessage("üîä *weebo blip*", 'weebo');
                        } catch { addMessage("üîä sound effect (simulated)", 'weebo'); }
                        break;
                }
            }

            // UI controls
            function clearChat() {
                chatMessages.innerHTML = '';
                chatHistory = [];
                addMessage("üßπ Chat cleared. Ready for new adventures.", 'weebo');
            }

            function switchPersonality() {
                let keys = Object.keys(personalities);
                let idx = keys.indexOf(currentPersonality);
                currentPersonality = keys[(idx + 1) % keys.length];
                addMessage(`‚ú® personality switched to **${personalities[currentPersonality].name}**`, 'weebo');
            }

            function toggleHologram() {
                let sphere = document.querySelector('.hologram-sphere');
                let face = document.querySelector('.hologram-face');
                if (hologramVisible) {
                    sphere.style.opacity = '0.2';
                    face.style.opacity = '0.2';
                    addMessage("üëª hologram dimmed (weebo still here)", 'weebo');
                } else {
                    sphere.style.opacity = '1';
                    face.style.opacity = '1';
                    addMessage("‚ú® hologram brightened", 'weebo');
                }
                hologramVisible = !hologramVisible;
            }

            function speakLast() {
                let lastWeebo = [...chatHistory].reverse().find(m => m.sender === 'weebo');
                if (lastWeebo && window.speechSynthesis) {
                    let utter = new SpeechSynthesisUtterance(lastWeebo.text);
                    utter.rate = 1.0; utter.pitch = 1.2;
                    speechSynthesis.speak(utter);
                    addMessage("üîä (spoken aloud)", 'weebo');
                } else addMessage("no weebo message to speak or speech unsupported", 'weebo');
            }

            function exportChat() {
                let text = chatHistory.map(m => `[${m.time}] ${m.sender}: ${m.text}`).join('\n');
                let blob = new Blob([text], {type: 'text/plain'});
                let a = document.createElement('a');
                a.href = URL.createObjectURL(blob); a.download = 'weebo-chat.txt';
                a.click(); URL.revokeObjectURL(a.href);
                addMessage("üì• chat exported", 'weebo');
            }

            function showHelp() {
                addMessage("üÜò **Weebo commands:**\n- time, weather, joke\n- calculations like 3*12\n- click any feature\n- switch personality, clear, speak", 'weebo');
            }

            // footer links
            function fakeLink(msg) {
                return (e) => { e.preventDefault(); addMessage(msg, 'weebo'); };
            }

            // event binding
            document.addEventListener('DOMContentLoaded', () => {
                initParticles();

                sendBtn.addEventListener('click', () => processUserInput(chatInput.value));
                chatInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') processUserInput(chatInput.value); });

                document.querySelectorAll('.feature-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        handleFeatureAction(this.getAttribute('data-action'));
                    });
                });

                document.getElementById('clearChatBtn').addEventListener('click', clearChat);
                document.getElementById('personalityBtn').addEventListener('click', switchPersonality);
                document.getElementById('hologramToggle').addEventListener('click', toggleHologram);
                document.getElementById('speakBtn').addEventListener('click', speakLast);
                document.getElementById('themeToggle').addEventListener('click', () => {
                    document.body.style.filter = 'hue-rotate(' + Math.floor(Math.random()*360) + 'deg)';
                    addMessage("üé® theme shifted!", 'weebo');
                });
                document.getElementById('exportChat').addEventListener('click', exportChat);
                document.getElementById('helpBtn').addEventListener('click', showHelp);

                document.getElementById('viewSourceLink').addEventListener('click', fakeLink("üë©‚Äçüíª right-click ‚Üí view page source to see the code!"));
                document.getElementById('reportLink').addEventListener('click', fakeLink("üêû bug report would open a form (demo)"));
                document.getElementById('suggestLink').addEventListener('click', fakeLink("üí° suggestion noted (in imagination)"));

                // initial greeting based on personality
                addMessage(personalities[currentPersonality].greet, 'weebo');
            });
        })();
    </script>
</body>
</html>
