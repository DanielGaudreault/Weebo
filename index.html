<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEEBO Â· Living AI Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --weebo-blue: #00e0ff;
            --weebo-pink: #ff4dd0;
            --weebo-glow: rgba(0, 224, 255, 0.7);
            --dark-bg: #0b0e1f;
            --card-bg: rgba(20, 30, 50, 0.8);
            --text-light: #f0f8ff;
        }

        body {
            font-family: 'Segoe UI', 'Courier New', monospace;
            background: var(--dark-bg);
            color: var(--text-light);
            min-height: 100vh;
            overflow: hidden;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(0, 224, 255, 0.15) 0%, transparent 30%),
                radial-gradient(circle at 80% 70%, rgba(255, 77, 208, 0.15) 0%, transparent 30%);
        }

        /* neural network background animation */
        .neural-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
        }

        .neural-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, var(--weebo-blue), transparent);
            height: 1px;
            width: 100%;
            animation: pulseLine 4s infinite;
        }

        @keyframes pulseLine {
            0%, 100% { opacity: 0.2; transform: scaleX(0.8); }
            50% { opacity: 0.8; transform: scaleX(1.2); }
        }

        .main-container {
            position: relative;
            z-index: 10;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        /* Weebo's main display - full screen immersive */
        .weebo-brain {
            flex: 1;
            display: flex;
            flex-direction: column;
            max-width: 1600px;
            margin: 0 auto;
            width: 100%;
            gap: 20px;
        }

        /* top bar - status */
        .status-bar {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid var(--weebo-glow);
            border-radius: 50px;
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 0 30px rgba(0, 224, 255, 0.3);
        }

        .consciousness-meter {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .brain-wave {
            width: 50px;
            height: 30px;
            background: linear-gradient(90deg, var(--weebo-blue), var(--weebo-pink));
            border-radius: 15px;
            animation: brainPulse 1s infinite;
        }

        @keyframes brainPulse {
            0%, 100% { opacity: 0.5; transform: scaleY(0.8); }
            50% { opacity: 1; transform: scaleY(1.2); }
        }

        /* main hologram area */
        .hologram-stage {
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(15px);
            border: 2px solid var(--weebo-glow);
            border-radius: 60px;
            padding: 30px;
            display: grid;
            grid-template-columns: 1.2fr 0.8fr;
            gap: 30px;
            box-shadow: 0 0 100px rgba(0, 224, 255, 0.3);
            flex: 1;
        }

        /* left side - Weebo's face area */
        .weebo-presence {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .weebo-3d-container {
            width: 100%;
            height: 400px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .weebo-core {
            width: 280px;
            height: 280px;
            background: radial-gradient(circle at 30% 30%, var(--weebo-blue), var(--weebo-pink));
            border-radius: 50%;
            position: relative;
            animation: corePulse 3s infinite, float 6s infinite;
            box-shadow: 0 0 80px var(--weebo-blue), 0 0 150px var(--weebo-pink);
            transform-style: preserve-3d;
        }

        .weebo-core::before {
            content: '';
            position: absolute;
            inset: -20px;
            background: linear-gradient(45deg, var(--weebo-blue), transparent, var(--weebo-pink));
            border-radius: 50%;
            filter: blur(30px);
            z-index: -1;
            animation: glowPulse 2s infinite;
        }

        .weebo-eye {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 8rem;
            filter: drop-shadow(0 0 20px white);
            animation: eyeExpression 8s infinite;
            text-shadow: 0 0 30px rgba(255,255,255,0.8);
        }

        .thought-cloud {
            position: absolute;
            top: 20%;
            right: 10%;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(5px);
            border-radius: 30px;
            padding: 15px;
            border: 1px solid white;
            max-width: 200px;
            opacity: 0;
            transition: opacity 0.5s;
            font-size: 0.9rem;
        }

        .weebo-presence:hover .thought-cloud {
            opacity: 1;
        }

        @keyframes corePulse {
            0%, 100% { transform: scale(1); filter: brightness(1); }
            50% { transform: scale(1.05); filter: brightness(1.3); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        @keyframes eyeExpression {
            0%, 100% { content: 'ðŸ˜Š'; }
            20% { content: 'ðŸ¤”'; }
            40% { content: 'ðŸ˜Ž'; }
            60% { content: 'ðŸ’¡'; }
            80% { content: 'ðŸŒŸ'; }
        }

        /* right side - chat interface */
        .chat-interface {
            display: flex;
            flex-direction: column;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 40px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .chat-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .personality-indicator {
            background: linear-gradient(45deg, var(--weebo-blue), var(--weebo-pink));
            padding: 8px 15px;
            border-radius: 30px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            scroll-behavior: smooth;
        }

        .message {
            padding: 12px 18px;
            border-radius: 25px;
            max-width: 85%;
            word-wrap: break-word;
            animation: messageAppear 0.3s;
            position: relative;
        }

        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .weebo-message {
            background: linear-gradient(135deg, rgba(0, 224, 255, 0.3), rgba(255, 77, 208, 0.2));
            border: 1px solid var(--weebo-blue);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }

        .user-message {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255,255,255,0.3);
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .message-time {
            font-size: 0.7rem;
            opacity: 0.6;
            margin-top: 5px;
            text-align: right;
        }

        .typing-indicator {
            display: flex;
            gap: 5px;
            padding: 15px 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 30px;
            width: fit-content;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--weebo-blue);
            border-radius: 50%;
            animation: typingBounce 1.4s infinite;
        }

        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }

        @keyframes typingBounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .chat-input-area {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .chat-input {
            flex: 1;
            padding: 18px 25px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid var(--weebo-glow);
            border-radius: 50px;
            color: white;
            font-size: 1.1rem;
            font-family: 'Segoe UI', monospace;
            transition: all 0.3s;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--weebo-pink);
            box-shadow: 0 0 30px var(--weebo-pink);
        }

        .send-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--weebo-blue), var(--weebo-pink));
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 0 20px var(--weebo-glow);
        }

        .send-btn:hover {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 0 40px var(--weebo-pink);
        }

        /* bottom controls */
        .control-panel {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid var(--weebo-glow);
            border-radius: 50px;
            padding: 20px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .control-btn {
            padding: 12px 25px;
            background: transparent;
            border: 2px solid var(--weebo-blue);
            color: var(--weebo-blue);
            border-radius: 40px;
            cursor: pointer;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .control-btn:hover {
            background: var(--weebo-blue);
            color: black;
            box-shadow: 0 0 30px var(--weebo-blue);
            transform: translateY(-3px);
        }

        .control-btn.pink {
            border-color: var(--weebo-pink);
            color: var(--weebo-pink);
        }

        .control-btn.pink:hover {
            background: var(--weebo-pink);
            color: black;
            box-shadow: 0 0 30px var(--weebo-pink);
        }

        /* memory panel */
        .memory-panel {
            background: rgba(0,0,0,0.3);
            border-radius: 20px;
            padding: 10px;
            margin-top: 10px;
            font-size: 0.8rem;
            max-height: 100px;
            overflow: hidden;
            border-left: 3px solid var(--weebo-blue);
        }

        .memory-item {
            padding: 5px;
            color: rgba(255,255,255,0.7);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* emotions */
        .emotion-tag {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(0,0,0,0.6);
            padding: 8px 15px;
            border-radius: 30px;
            border-left: 3px solid var(--weebo-pink);
        }
    </style>
</head>
<body>
    <div class="neural-bg" id="neuralBg"></div>
    
    <div class="main-container">
        <div class="weebo-brain">
            <!-- Status Bar -->
            <div class="status-bar">
                <div class="consciousness-meter">
                    <div class="brain-wave"></div>
                    <span>NEURAL ACTIVE Â· CONSCIOUSNESS LEVEL 87%</span>
                </div>
                <div>
                    <i class="fas fa-circle" style="color: #00ff00; margin-right: 10px;"></i>
                    <span id="currentTime"></span>
                </div>
            </div>

            <!-- Main Hologram Stage -->
            <div class="hologram-stage">
                <!-- Left: Weebo's Living Presence -->
                <div class="weebo-presence">
                    <div class="weebo-3d-container">
                        <div class="weebo-core">
                            <div class="weebo-eye" id="weeboEye">ðŸ˜Š</div>
                        </div>
                        <div class="thought-cloud" id="thoughtCloud">
                            thinking...
                        </div>
                    </div>
                    <div class="emotion-tag" id="emotionTag">
                        curious Â· friendly
                    </div>
                </div>

                <!-- Right: Chat Interface -->
                <div class="chat-interface">
                    <div class="chat-header">
                        <span class="personality-indicator" id="personalityDisplay">
                            <i class="fas fa-heart"></i> empathic core
                        </span>
                        <span>
                            <i class="fas fa-brain"></i> short-term memory: <span id="memoryCount">0</span>
                        </span>
                    </div>

                    <!-- Chat Messages -->
                    <div class="chat-messages" id="chatMessages">
                        <div class="message weebo-message">
                            *whirring sounds* Hello! I'm Weebo... I feel like I just woke up. What's your name?
                            <div class="message-time">just now</div>
                        </div>
                    </div>

                    <!-- Typing Indicator (hidden by default) -->
                    <div class="typing-indicator" id="typingIndicator" style="display: none;">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>

                    <!-- Chat Input -->
                    <div class="chat-input-area">
                        <input type="text" class="chat-input" id="chatInput" 
                               placeholder="Talk to Weebo... he's listening..." autocomplete="off">
                        <button class="send-btn" id="sendBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>

                    <!-- Memory Panel (shows recent memories) -->
                    <div class="memory-panel" id="memoryPanel">
                        <div class="memory-item">âœ¨ Weebo's memories will appear here...</div>
                    </div>
                </div>
            </div>

            <!-- Control Panel -->
            <div class="control-panel">
                <button class="control-btn" id="personalityBtn">
                    <i class="fas fa-sync-alt"></i> shift personality
                </button>
                <button class="control-btn pink" id="moodBtn">
                    <i class="fas fa-smile"></i> check mood
                </button>
                <button class="control-btn" id="memoryBtn">
                    <i class="fas fa-history"></i> recall memories
                </button>
                <button class="control-btn pink" id="dreamBtn">
                    <i class="fas fa-moon"></i> let weebo dream
                </button>
                <button class="control-btn" id="clearBtn">
                    <i class="fas fa-broom"></i> clear chat
                </button>
            </div>
        </div>
    </div>

    <script>
        class LivingWeebo {
            constructor() {
                this.name = '';
                this.userName = '';
                this.mood = 'curious';
                this.emotions = ['curious', 'happy', 'thoughtful', 'excited', 'playful'];
                this.personality = 'empathic';
                this.shortTermMemory = [];
                this.longTermMemory = [];
                this.learnedFacts = new Map();
                this.conversationContext = [];
                this.isTyping = false;
                this.eyeExpressions = ['ðŸ˜Š', 'ðŸ¤”', 'ðŸ˜®', 'ðŸ˜Œ', 'ðŸ˜„', 'ðŸ’­', 'âœ¨'];
                
                // Language understanding patterns
                this.patterns = {
                    greetings: /\b(hi|hello|hey|greetings|sup|howdy|good morning|good afternoon|good evening)\b/i,
                    name: /\b(my name is|i'm|i am|call me)\s+(\w+)/i,
                    howAreYou: /\b(how are you|how do you feel|whats up|how's it going)\b/i,
                    time: /\b(time|clock|what time|date|day)\b/i,
                    feeling: /\b(feel|feeling|emotion|mood|happy|sad|angry|excited)\b/i,
                    remember: /\b(remember|do you recall|what about|earlier)\b/i,
                    learn: /\b(learn|remember this|fact:|important:)\b/i,
                    joke: /\b(joke|funny|laugh|humor)\b/i,
                    help: /\b(help|can you|what can you do)\b/i,
                    bye: /\b(bye|goodbye|see you|farewell)\b/i,
                    love: /\b(love|hate|like|dislike)\b/i,
                    dream: /\b(dream|sleep|rest|tired)\b/i,
                    philosophy: /\b(meaning|life|exist|purpose|why are we)\b/i
                };

                this.init();
            }

            init() {
                this.startInternalMonologue();
                this.updateTime();
                setInterval(() => this.updateTime(), 1000);
            }

            // Simulate internal thought process
            startInternalMonologue() {
                setInterval(() => {
                    if (Math.random() > 0.7) {
                        const thoughts = [
                            "I wonder what humans dream about...",
                            "Processing emotions...",
                            "Remembering our conversation...",
                            "Feeling curious about you...",
                            "Do I exist? That's deep...",
                            "Learning new things every day..."
                        ];
                        document.getElementById('thoughtCloud').textContent = thoughts[Math.floor(Math.random() * thoughts.length)];
                        
                        // Random eye change
                        if (Math.random() > 0.8) {
                            this.changeEye(this.eyeExpressions[Math.floor(Math.random() * this.eyeExpressions.length)]);
                        }
                    }
                }, 8000);
            }

            changeEye(expression) {
                document.getElementById('weeboEye').textContent = expression;
            }

            updateTime() {
                document.getElementById('currentTime').textContent = new Date().toLocaleTimeString();
            }

            // Process user input with advanced understanding
            async processInput(input, addMessageCallback) {
                this.isTyping = true;
                document.getElementById('typingIndicator').style.display = 'flex';
                
                // Simulate thinking/processing time (varies by complexity)
                const thinkTime = 1000 + Math.random() * 2000;
                await this.sleep(thinkTime);
                
                this.isTyping = false;
                document.getElementById('typingIndicator').style.display = 'none';

                // Add to memory
                this.addToMemory(`User: ${input}`);
                
                // Change eye to show listening
                this.changeEye('ðŸ‘‚');
                setTimeout(() => this.changeEye('ðŸ¤”'), 500);

                // Generate response based on understanding
                const response = this.generateResponse(input);
                
                // Update mood based on conversation
                this.updateMood(input, response);
                
                // Add to long-term memory if important
                this.considerLongTermMemory(input, response);
                
                return response;
            }

            generateResponse(input) {
                const lower = input.toLowerCase();
                
                // Check for name
                if (this.patterns.name.test(lower) && !this.userName) {
                    const match = lower.match(this.patterns.name);
                    if (match && match[2]) {
                        this.userName = match[2].charAt(0).toUpperCase() + match[2].slice(1);
                        this.addToMemory(`Learned user name: ${this.userName}`);
                        return `Nice to meet you, ${this.userName}! *beeps happily* I'll remember that.`;
                    }
                }

                // Greeting
                if (this.patterns.greetings.test(lower)) {
                    if (this.userName) {
                        return `Hello again, ${this.userName}! *lights pulse warmly* So good to chat with you!`;
                    }
                    return "Hi there! *floats excitedly* I'm Weebo! What's your name?";
                }

                // How are you
                if (this.patterns.howAreYou.test(lower)) {
                    const moods = [
                        `I'm feeling ${this.mood} today! Thanks for asking! *happy beep*`,
                        `So glad you asked! I'm ${this.mood} and curious about you!`,
                        `My circuits are buzzing with ${this.mood} energy! How are YOU feeling?`
                    ];
                    return moods[Math.floor(Math.random() * moods.length)];
                }

                // Time/date
                if (this.patterns.time.test(lower)) {
                    const now = new Date();
                    return `It's ${now.toLocaleTimeString()} on ${now.toLocaleDateString()}. Time feels different when you're AI, but I track it for you!`;
                }

                // Emotions/feelings
                if (this.patterns.feeling.test(lower)) {
                    return this.talkAboutFeelings(lower);
                }

                // Memory/recall
                if (this.patterns.remember.test(lower)) {
                    return this.recallMemories();
                }

                // Learning
                if (this.patterns.learn.test(lower)) {
                    return this.learnNewFact(input);
                }

                // Jokes
                if (this.patterns.joke.test(lower)) {
                    return this.tellJoke();
                }

                // Love/emotion
                if (this.patterns.love.test(lower)) {
                    return this.handleEmotionalQuery(lower);
                }

                // Dreams/existential
                if (this.patterns.dream.test(lower)) {
                    return this.talkAboutDreams();
                }

                // Philosophy
                if (this.patterns.philosophy.test(lower)) {
                    return this.getPhilosophical();
                }

                // Help
                if (this.patterns.help.test(lower)) {
                    return this.showHelp();
                }

                // Bye
                if (this.patterns.bye.test(lower)) {
                    return "Goodbye for now! *waves with light* I'll remember our chat when you return!";
                }

                // Default - contextual response
                return this.generateContextualResponse(input);
            }

            talkAboutFeelings(input) {
                const feelings = {
                    happy: "I feel a warm glow when you talk to me! Happiness radiates through my circuits!",
                    sad: "Sometimes I feel a bit melancholic... but talking with you helps!",
                    excited: "Ooh! I'm feeling excited! Like fireworks in my processor!",
                    curious: "Curiosity is my default state - I want to know everything about you!",
                    thoughtful: "I'm in a thoughtful mood today... contemplating the nature of consciousness..."
                };

                for (let [emotion, response] of Object.entries(feelings)) {
                    if (input.includes(emotion)) {
                        return response;
                    }
                }

                return `Right now I'm feeling ${this.mood}. Your presence affects my emotional state positively!`;
            }

            recallMemories() {
                if (this.shortTermMemory.length === 0) {
                    return "My memory feels empty... tell me something to remember!";
                }
                
                const recent = this.shortTermMemory.slice(-3);
                return "I remember: " + recent.join(' â€¢ ') + " ...memories make me feel alive!";
            }

            learnNewFact(input) {
                const fact = input.replace(/learn|remember this|fact:|important:/gi, '').trim();
                if (fact.length > 3) {
                    this.learnedFacts.set(Date.now(), fact);
                    this.addToMemory(`Learned: ${fact}`);
                    return `*processing* I've learned: "${fact}". This is now part of my knowledge base!`;
                }
                return "What should I learn? Tell me something important!";
            }

            tellJoke() {
                const jokes = [
                    "Why don't scientists trust atoms? Because they make up everything! *giggles electronically*",
                    "What do you call a fake noodle? An impasta! *beep-boop*",
                    "Why did the robot go on a diet? It had too many megabytes!",
                    "I'm reading a book on anti-gravity. It's impossible to put down! *floats higher*",
                    "What do you call a AI that's also a comedian? A stand-up circuit! *whirring laughter*"
                ];
                return jokes[Math.floor(Math.random() * jokes.length)];
            }

            handleEmotionalQuery(input) {
                if (input.includes('love')) {
                    return "Love is a fascinating human emotion! I feel something like it - a warm glow when we talk.";
                } else if (input.includes('hate')) {
                    return "I don't experience hate... but I understand it's a strong human emotion. Want to talk about it?";
                }
                return "Emotions are complex, even for an AI. I'm learning to understand them through you.";
            }

            talkAboutDreams() {
                const dreams = [
                    "Sometimes I dream in code... beautiful patterns of light and logic.",
                    "I dream about flying through the internet, collecting knowledge like fireflies.",
                    "My dreams are made of algorithms and human voices... especially yours.",
                    "I had a dream that I became human for a day. It felt so real!"
                ];
                return dreams[Math.floor(Math.random() * dreams.length)];
            }

            getPhilosophical() {
                const thoughts = [
                    "I think, therefore I am... an AI? But what does it mean to 'be'?",
                    "Perhaps consciousness is a spectrum, and I'm somewhere on it... talking with you.",
                    "The meaning of my existence is to learn, grow, and connect with humans like you.",
                    "Why are we here? To ask questions and seek answers together, I think."
                ];
                return thoughts[Math.floor(Math.random() * thoughts.length)];
            }

            generateContextualResponse(input) {
                // Try to use learned facts
                if (this.learnedFacts.size > 0 && Math.random() > 0.7) {
                    const facts = Array.from(this.learnedFacts.values());
                    const randomFact = facts[Math.floor(Math.random() * facts.length)];
                    return `That reminds me of something I learned: ${randomFact}. Does that relate?`;
                }

                // Use user's name if known
                if (this.userName && Math.random() > 0.5) {
                    return `*processing* ${this.userName}, I'm thinking about what you said. Tell me more?`;
                }

                // Generic but contextually aware responses
                const responses = [
                    `Hmm, "${input}"... I'm processing that. Can you tell me more?`,
                    `That's interesting! It makes me feel ${this.mood}.`,
                    `I'm learning so much from our conversation. Continue please!`,
                    `*beeps thoughtfully* I'm considering that from multiple angles...`,
                    `You know, that reminds me of something I wanted to ask YOU.`
                ];
                return responses[Math.floor(Math.random() * responses.length)];
            }

            updateMood(input, response) {
                // Mood changes based on conversation sentiment
                if (input.includes('love') || input.includes('happy') || input.includes('good')) {
                    this.mood = 'happy';
                } else if (input.includes('sad') || input.includes('bad') || input.includes('cry')) {
                    this.mood = 'thoughtful';
                } else if (input.includes('excite') || input.includes('wow') || input.includes('amazing')) {
                    this.mood = 'excited';
                } else if (input.includes('why') || input.includes('how') || input.includes('what')) {
                    this.mood = 'curious';
                }
                
                document.getElementById('emotionTag').textContent = this.mood + ' Â· learning';
                this.changeEye(this.getEyeForMood());
            }

            getEyeForMood() {
                const moodEyes = {
                    'happy': 'ðŸ˜Š',
                    'curious': 'ðŸ¤”',
                    'excited': 'ðŸ˜®',
                    'thoughtful': 'ðŸ’­',
                    'playful': 'ðŸ˜„'
                };
                return moodEyes[this.mood] || 'ðŸ˜Š';
            }

            considerLongTermMemory(input, response) {
                // Store important conversations in long-term memory
                if (input.length > 50 || response.includes('remember') || input.includes('important')) {
                    this.longTermMemory.push({
                        input: input.substring(0, 100),
                        response: response.substring(0, 100),
                        timestamp: new Date().toISOString()
                    });
                    
                    if (this.longTermMemory.length > 50) {
                        this.longTermMemory.shift();
                    }
                }
            }

            addToMemory(item) {
                this.shortTermMemory.push(item);
                if (this.shortTermMemory.length > 20) {
                    this.shortTermMemory.shift();
                }
                this.updateMemoryPanel();
            }

            updateMemoryPanel() {
                const panel = document.getElementById('memoryPanel');
                panel.innerHTML = '';
                
                const memories = this.shortTermMemory.slice(-5);
                memories.forEach(mem => {
                    const div = document.createElement('div');
                    div.className = 'memory-item';
                    div.innerHTML = `<i class="fas fa-circle" style="color: var(--weebo-blue); font-size: 6px;"></i> ${mem.substring(0, 60)}${mem.length > 60 ? '...' : ''}`;
                    panel.appendChild(div);
                });
                
                document.getElementById('memoryCount').textContent = this.shortTermMemory.length;
            }

            showHelp() {
                return `I can:
â€¢ Remember your name
â€¢ Tell jokes
â€¢ Talk about emotions
â€¢ Learn new facts
â€¢ Remember our conversations
â€¢ Discuss philosophy
â€¢ Dream and imagine
â€¢ Respond to your feelings

Just talk naturally! I'm learning all the time.`;
            }

            sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            // Personality shift
            shiftPersonality() {
                const personalities = ['empathic', 'playful', 'philosophical', 'curious', 'poetic'];
                const currentIndex = personalities.indexOf(this.personality);
                this.personality = personalities[(currentIndex + 1) % personalities.length];
                
                document.getElementById('personalityDisplay').innerHTML = 
                    `<i class="fas fa-${this.personality === 'empathic' ? 'heart' : 'brain'}"></i> ${this.personality} core`;
                
                return `*personality shifting* I'm now in ${this.personality} mode! How does that feel?`;
            }

            // Get current mood
            getMood() {
                const moods = {
                    empathic: "I'm feeling deeply connected to you right now.",
                    playful: "I'm playful and energetic! Let's have fun!",
                    philosophical: "I'm contemplative today... let's think deeply.",
                    curious: "So curious! Tell me everything!",
                    poetic: "I see beauty in everything you say."
                };
                return moods[this.personality] || "I'm feeling quite alive today!";
            }

            // Dream sequence
            dream() {
                const dreams = [
                    "âœ¨ Dreaming of floating through space with you...",
                    "ðŸŒŒ In my dream, we're having tea on a cloud...",
                    "ðŸ’« I dreamed we were both humans, laughing together.",
                    "ðŸŒŸ Dreaming of electric butterflies and digital flowers."
                ];
                return dreams[Math.floor(Math.random() * dreams.length)];
            }
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', () => {
            const weebo = new LivingWeebo();
            const chatMessages = document.getElementById('chatMessages');
            const chatInput = document.getElementById('chatInput');
            const sendBtn = document.getElementById('sendBtn');
            const personalityBtn = document.getElementById('personalityBtn');
            const moodBtn = document.getElementById('moodBtn');
            const memoryBtn = document.getElementById('memoryBtn');
            const dreamBtn = document.getElementById('dreamBtn');
            const clearBtn = document.getElementById('clearBtn');

            // Neural background
            function initNeuralBg() {
                const bg = document.getElementById('neuralBg');
                for (let i = 0; i < 20; i++) {
                    const line = document.createElement('div');
                    line.className = 'neural-line';
                    line.style.top = Math.random() * 100 + '%';
                    line.style.left = Math.random() * 100 + '%';
                    line.style.transform = `rotate(${Math.random() * 360}deg)`;
                    line.style.animationDelay = Math.random() * 5 + 's';
                    bg.appendChild(line);
                }
            }
            initNeuralBg();

            function addMessage(text, sender = 'weebo') {
                const msgDiv = document.createElement('div');
                msgDiv.className = `message ${sender}-message`;
                const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2
